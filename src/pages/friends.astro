---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import Twikoo from '../components/Twikoo.astro';
import { SITE_TITLE } from '../consts';

const friends = [
	{
		name: '转行挖土',
		url: 'https://blog.p0.ee',
		avatar: 'https://blog.p0.ee/img/Logo.png',
		description: '这是一个基于兴趣学习并搭建的小博客，以收集分享各类有趣的东西为主，欢迎访问！',
	},
	{
		name: 'dell',
		url: 'https://blog.zgeek.eu.org',
		avatar: '',
		description: '',
	},
	{
		name: 'qqwj',
		url: 'https://studynote.qqwj.top',
		avatar: '',
		description: '',
	},
	{
		name: 'azir',
		url: 'https://azir.online',
		avatar: 'https://azir.online/favicon.png',
		description: 'SoybeanJ核心成员',
	},
];
---

<!doctype html>
<html lang="zh-CN">
	<head>
		<BaseHead title={`友情链接 - ${SITE_TITLE}`} description="我的朋友们" />
		<style>
			main {
				width: 800px;
				max-width: 100%;
				margin: 0 auto;
				padding: 3rem 1rem;
			}

			.page-title {
				font-size: 2rem;
				font-weight: 600;
				margin-bottom: 1rem;
				color: rgb(var(--black));
			}

			.page-intro {
				font-size: 1rem;
				color: var(--ring);
				margin-bottom: 3rem;
				line-height: 1.6;
			}

			.friends-list {
				display: grid;
				grid-template-columns: repeat(4, 1fr);
				gap: 1.5rem;
				list-style-type: none;
				margin: 0;
				padding: 0;
			}

			.friend-item {
				display: flex;
			}

			.friend-link {
				display: flex;
				flex-direction: column;
				align-items: center;
				text-align: center;
				gap: 0.75rem;
				text-decoration: none;
				color: inherit;
				transition: opacity 0.2s ease;
				width: 100%;
			}

			.friend-link:hover {
				opacity: 0.7;
			}

			.friend-avatar {
				width: 64px;
				height: 64px;
				border-radius: 50%;
				object-fit: cover;
				flex-shrink: 0;
			}

			.friend-info {
				width: 100%;
			}

			.friend-name {
				font-size: 1rem;
				font-weight: 500;
				margin: 0 0 0.25rem 0;
				color: rgb(var(--black));
			}

			.friend-description {
				margin: 0;
				font-size: 0.875rem;
				color: var(--ring);
				line-height: 1.5;
				overflow: hidden;
				text-overflow: ellipsis;
				display: -webkit-box;
				-webkit-line-clamp: 2;
				-webkit-box-orient: vertical;
			}

			.apply-section {
				margin-top: 3rem;
				padding-top: 2rem;
				border-top: 2px solid rgb(var(--gray-light));
			}

			.apply-title {
				font-size: 1.25rem;
				font-weight: 600;
				margin-bottom: 1rem;
				color: rgb(var(--black));
			}

			.apply-description {
				font-size: 0.9rem;
				color: var(--ring);
				line-height: 1.8;
				margin-bottom: 0.5rem;
			}

			.apply-format {
				list-style-type: none;
				margin: 1rem 0;
				padding: 0;
				font-size: 0.9rem;
				color: var(--ring);
				line-height: 1.8;
			}

			.apply-format li {
				padding: 0.25rem 0;
			}

			/* 平板适配 */
			@media (max-width: 1024px) {
				main {
					width: 100%;
					padding: 2.5rem 1.5rem;
				}

				.friends-list {
					grid-template-columns: repeat(3, 1fr);
				}
			}

			/* 移动端适配 */
			@media (max-width: 768px) {
				main {
					padding: 2rem 1rem;
				}

				.page-title {
					font-size: 1.5rem;
				}

				.page-intro {
					font-size: 0.95rem;
					margin-bottom: 2rem;
				}

				.friends-list {
					grid-template-columns: repeat(2, 1fr);
					gap: 1rem;
				}

				.friend-avatar {
					width: 56px;
					height: 56px;
				}

				.friend-name {
					font-size: 0.9rem;
				}

				.friend-description {
					font-size: 0.8rem;
				}

				.apply-title {
					font-size: 1.1rem;
				}

				.apply-description,
				.apply-format {
					font-size: 0.85rem;
				}
			}

			/* 小屏手机适配 */
			@media (max-width: 480px) {
				main {
					padding: 1.5rem 0.75rem;
				}

				.page-title {
					font-size: 1.25rem;
				}

				.friends-list {
					grid-template-columns: 1fr;
					gap: 0.875rem;
				}

				.friend-avatar {
					width: 52px;
					height: 52px;
				}

				.friend-name {
					font-size: 0.875rem;
				}

				.friend-description {
					font-size: 0.75rem;
				}

				.apply-title {
					font-size: 1rem;
				}
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<h1 class="page-title">友情链接</h1>
			<p class="page-intro">以下是我的朋友们，欢迎互相交流学习！</p>

			<ul class="friends-list">
				{friends.map((friend) => (
					<li class="friend-item">
						<a href={friend.url} target="_blank" rel="noopener noreferrer" class="friend-link">
							<img
								src={
									friend.avatar ||
									`https://api.dicebear.com/6.x/identicon/svg?seed=${encodeURIComponent(
										friend.name || friend.url || Math.random().toString(36).slice(2)
									)}&size=64`
								}
								alt={friend.name}
								class="friend-avatar"
								loading="lazy"
							/>
							<div class="friend-info">
								<h3 class="friend-name">{friend.name}</h3>
								<p class="friend-description">{friend.description}</p>
							</div>
						</a>
					</li>
				))}
			</ul>

			<section class="apply-section">
				<h2 class="apply-title">申请友链</h2>
				<p class="apply-description">欢迎交换友链，请在下方评论区留言或通过邮件联系我，格式如下：</p>
				<ul class="apply-format">
					<li>• 名称：您的网站名称</li>
					<li>• 链接：您的网站地址</li>
					<li>• 头像：您的头像链接</li>
					<li>• 描述：一句话介绍</li>
				</ul>
			</section>
			<div class="w-full h-[50px]"></div>
			<Twikoo />
		</main>
		<Footer />
	</body>
</html>
